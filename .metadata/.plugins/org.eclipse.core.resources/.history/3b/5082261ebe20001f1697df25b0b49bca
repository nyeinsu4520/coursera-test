<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div th:replace="@{fragment/header1}"></div>
	<div class="container">
		<div class="row">
			<h1 align="center">SHOPPING CART</h1>
		</div>
		<div class="row">
			<div class="col-8">
				<div class="row">
					<div class="col-3">ITEM</div>
					<div class="col-3">PRICE</div>
					<div class="col-3">QUANTITY</div>
					<div class="col-3">SUBTOTAL</div>
				</div>
				<div class="row" th:each="cartItem:${cartItemList}">
					<div class="col">
						<h2 th:text="${cartItem.item.name}"></h2>
						<h3 th:text="${cartItem.item.description}"></h3>
						<img
							th:src="@{/uploads/items/{id}/{imageName} (id=${cartItem.item.id},imageName=${cartItem.item.imgName})}"
							width=100 height=100>
					</div>
					<div class="col">
						<h3 th:text="${cartItem.item.price}"></h3>
					</div>
					<div class="col">						
						<form th:action="@{/cart/update/{id} (id=${cartItem.id})}"
							method="post">
							<input type="text" name="quantity" th:value="${cartItem.quantity}">
							<input type="submit" value="Update Quantity">
						</form>
						<a th:href="@{/cart/remove/{id} (id=${cartItem.id})}" class="btn">Remove Item</a>
					</div>
					<div class="col">
						<h3 th:text="${cartItem.subtotal}"></h3>
					</div>
				</div>
			</div>
			<div class="col-4">
				<div class="row">
					<h1>ORDER SUMMARY</h1>
				</div>
				<div class="row" th:each="cartItem:${cartItemList}">
					<div class="col">
						<h3 th:text="${cartItem.item.name}+' x '+${cartItem.quantity}"></h3>

					</div>
					<div class="col">
						<h3 th:text="${cartItem.subtotal}"></h3>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<h2>TOTAL</h2>
					</div>
					<div class="col">
						<h2 th:text="${total}"></h2>
					</div>
				</div>
			</div>
		</div>

	</div>
	<div th:replace="@{fragments/footer}"></div>
</body>
</html>